<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Financial Market Date Calculations â€¢ fmdates</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Financial Market Date Calculations">
<meta property="og:description" content="Implements common date calculations relevant for specifying
  the economic nature of financial market contracts that are typically defined
  by International Swap Dealer Association (ISDA, &lt;http://www2.isda.org&gt;) legal
  documentation. This includes methods to check whether dates are business
  days in certain locales, functions to adjust and shift dates and time length
  (or day counter) calculations.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">fmdates</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/dates.html">Dates</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/imanuelcostigan/fmdates">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="fmdates" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#fmdates" class="anchor"></a>fmdates</h1></div>
<!-- badges: start -->

<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h2>
<p>Over-the-counter (OTC) derivatives comprise a significant proportion of trading activity in global financial markets. Their general contractual conventions are specified in what are known as <a href="https://www.isda.org/books/">International Swap and Derivatives Association (ISDA) definitions</a>. For example, FX and currency option transactions are governed by the <em>1998 FX and Currency Options Definitions</em> and swap transactions are governed by the <em>2006 ISDA Definitions</em>. They describe in meticulous detail, among other things, how the dates of certain financial events should be determined. This includes how dates are defined to be good or bad and how bad dates are to be adjusted to good dates. They also define how to determine the length of time between two dates.</p>
<p>This package implements calendars used to define locale specific business days, date adjusters and shifters, schedule generators and year fraction calculations defined by these standards.</p>
</div>
<div id="calendars" class="section level2">
<h2 class="hasAnchor">
<a href="#calendars" class="anchor"></a>Calendars</h2>
<p>You can determine whether dates are business days in a specific locale or specific locales:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"lubridate"</span>, <span class="dt">warn.conflicts =</span> <span class="ot">FALSE</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"fmdates"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a>ausy &lt;-<span class="st"> </span><span class="kw"><a href="reference/Calendar.html">AUSYCalendar</a></span>()</span>
<span id="cb1-4"><a href="#cb1-4"></a>aume &lt;-<span class="st"> </span><span class="kw"><a href="reference/Calendar.html">AUMECalendar</a></span>()</span>
<span id="cb1-5"><a href="#cb1-5"></a>syme &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(ausy, aume) <span class="co"># handy JointCalendar construction approach</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw"><a href="reference/is_good.html">is_good</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20140404</span>), ausy)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="kw"><a href="reference/is_good.html">is_good</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20141104</span>), syme) <span class="co"># Melbourne Cup holiday</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>syme<span class="op">$</span>rule &lt;-<span class="st"> </span>any</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="kw"><a href="reference/is_good.html">is_good</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20141104</span>), syme)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div id="adjusters-and-shifters" class="section level2">
<h2 class="hasAnchor">
<a href="#adjusters-and-shifters" class="anchor"></a>Adjusters and shifters</h2>
<p>You can adjust (or roll) and shift dates using predefined business day conventions:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Adjust using the modified following convention</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="reference/adjust.html">adjust</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20140404</span>), <span class="st">'mf'</span>, ausy)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt; [1] "2014-04-04"</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># Shift dates</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="kw"><a href="reference/shift.html">shift</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20120229</span>), <span class="kw"><a href="https://rdrr.io/r/base/weekday.POSIXt.html">months</a></span>(<span class="dv">1</span>), <span class="st">'u'</span>, ausy, <span class="ot">FALSE</span>) <span class="co"># one month</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt; [1] "2012-03-29"</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="kw"><a href="reference/shift.html">shift</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20120229</span>), <span class="kw"><a href="https://rdrr.io/r/base/weekday.POSIXt.html">months</a></span>(<span class="dv">1</span>), <span class="st">'mf'</span>, ausy, <span class="ot">TRUE</span>)  <span class="co"># one month with EOM rule</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">#&gt; [1] "2012-03-30"</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="kw"><a href="reference/shift.html">shift</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20120229</span>), <span class="kw"><a href="http://lubridate.tidyverse.org/reference/period.html">years</a></span>(<span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/weekday.POSIXt.html">months</a></span>(<span class="dv">3</span>), <span class="st">'mf'</span>, ausy, <span class="ot">TRUE</span>)  <span class="co"># 1y3m</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#&gt; [1] "2013-05-31"</span></span></code></pre></div>
</div>
<div id="schedules" class="section level2">
<h2 class="hasAnchor">
<a href="#schedules" class="anchor"></a>Schedules</h2>
<p>The preceding methods are used to generate schedules of dates required to define common financial contracts events such as cash flow exchange dates:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="reference/generate_schedule.html">generate_schedule</a></span>(<span class="dt">effective_date =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20120103</span>), <span class="dt">termination_date =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20130103</span>), </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="dt">tenor =</span> <span class="kw"><a href="https://rdrr.io/r/base/weekday.POSIXt.html">months</a></span>(<span class="dv">3</span>), <span class="dt">calendar =</span> ausy, <span class="dt">bdc =</span> <span class="st">"mf"</span>, <span class="dt">stub =</span> <span class="st">"short_front"</span>, </span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="dt">eom_rule =</span> <span class="ot">FALSE</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt; [1] 2012-01-03 UTC--2012-04-03 UTC 2012-04-03 UTC--2012-07-03 UTC</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt; [3] 2012-07-03 UTC--2012-10-03 UTC 2012-10-03 UTC--2013-01-03 UTC</span></span></code></pre></div>
</div>
<div id="year-fractions" class="section level2">
<h2 class="hasAnchor">
<a href="#year-fractions" class="anchor"></a>Year fractions</h2>
<p>Time lengths then usually need to be computed for each interval of such a schedule according to some day basis convention:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># 30/360us convention</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw"><a href="reference/year_frac.html">year_frac</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="st">"2010-03-31"</span>), <span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="st">"2012-03-31"</span>), <span class="st">"30/360us"</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co"># act/365 convention</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="kw"><a href="reference/year_frac.html">year_frac</a></span>(<span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="st">"2010-02-28"</span>), <span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="st">"2012-03-31"</span>), <span class="st">"act/365"</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; [1] 2.087671</span></span></code></pre></div>
<p>More details can be found in the associated help files and the vignette (<code><a href="articles/dates.html">vignette("dates", "fmdates")</a></code>). If you would like to contribute to the package please see the <a href="https://github.com/imanuelcostigan/fmdates/blob/master/CONTRIBUTING.md"><code>CONTRIBUTING.md</code></a> file for general as well as specific suggestions.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=fmdates">https://â€‹cloud.r-project.org/â€‹package=fmdates</a>
</li>
<li>Browse source code at <br><a href="https://github.com/imanuelcostigan/fmdates">https://â€‹github.com/â€‹imanuelcostigan/â€‹fmdates</a>
</li>
<li>Report a bug at <br><a href="https://github.com/imanuelcostigan/fmdates/issues">https://â€‹github.com/â€‹imanuelcostigan/â€‹fmdates/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Imanuel Costigan <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=fmdates"><img src="http://www.r-pkg.org/badges/version/fmdates" alt="CRAN_Status_Badge"></a></li>
<li><a href="http://choosealicense.com/licenses/gpl-2.0/"><img src="https://img.shields.io/badge/license-GPL--2-blue.svg" alt="License"></a></li>
<li><a href="https://github.com/imanuelcostigan/fmdates/actions?workflow=R-CMD-check"><img src="https://github.com/imanuelcostigan/fmdates/workflows/R-CMD-check/badge.svg" alt="GitHub Actions"></a></li>
<li><a href="https://codecov.io/github/imanuelcostigan/fmdates?branch=master"><img src="https://img.shields.io/codecov/c/github/imanuelcostigan/fmdates/master.svg" alt="Coverage Status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Imanuel Costigan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
